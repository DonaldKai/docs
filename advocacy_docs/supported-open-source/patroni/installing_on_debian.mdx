---
title: 'Installing Patroni on Debian compatible systems'
navTitle: 'Installing Patroni on Debian'
description: "A walkthrough on how to install Patroni with PostgreSQL or EPAS on Debian or Ubuntu systems"
---

This walks you through the various steps to create an highly available demo cluster using EDB Postgres Advanced Server version 14 and PostgreSQL 14 on Debian 10. The two database nodes in _Streaming Replication_ are pg-patroni1 and pg-patroni2.

## EDB Postgres Advanced Server

On both pg-patroni1 and pg-patroni2 hosts, install EPAS using the following commands:

```bash
sudo apt install -y wget gnupg2 apt-transport-https
sudo sh -c 'echo "deb [arch=amd64] https://apt.enterprisedb.com/$(lsb_release -cs)-edb/ $(lsb_release -cs) main" > /etc/apt/sources.list.d/edb-$(lsb_release -cs).list'

# Replace '<USERNAME>' and '<PASSWORD>' below with your username and password for the EDB repositories
sudo sh -c 'echo "machine apt.enterprisedb.com login <USERNAME> password <PASSWORD>" > /etc/apt/auth.conf.d/edb.conf'
wget -q -O - https://<USERNAME>:<PASSWORD>@apt.enterprisedb.com/edb-deb.gpg.key | sudo apt-key add -

sudo apt update
sudo apt -y install edb-as14-server
sudo systemctl stop edb-as@14-main
sudo rm -fr /var/lib/edb-as/14/main
sudo systemctl disable edb-as@14-main
```

More information about installing EDB Postgres Advanced Server using the EDB repository can be found in [EDB docs](https://www.enterprisedb.com/docs/epas/latest/epas_inst_linux/installing_epas_using_edb_repository).


## PostgreSQL

On both pg-patroni1 and pg-patroni2 hosts, install PostgreSQL using the following commands:

```bash
sudo apt install curl ca-certificates gnupg
curl https://www.postgresql.org/media/keys/ACCC4CF8.asc | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/apt.postgresql.org.gpg >/dev/null

sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
sudo apt update
sudo apt install postgresql-14
sudo systemctl stop edb-as@14-main
sudo rm -fr /var/lib/edb-as/14/main
sudo systemctl disable postgresql@14-main
```

Patroni will bootstrap (create) the initial PostgreSQL cluster and be in charge of starting the service, so be sure `systemctl` is disabled for the PostgreSQL service (in the code snippet above we already disable the service).

We've also removed the data directory which Debian packages bootstrap with initdb as part of the installation of the PostgreSQL and EPAS server packages. 

You are ready to move to the configuration section, after installing the etcd nodes.